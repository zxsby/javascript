{"version":3,"file":"vue.js","sources":["../../src/observer/array.js","../../src/util.js","../../src/observer/dep.js","../../src/observer/index.js","../../src/state.js","../../src/compiler/parse.js","../../src/compiler/generate.js","../../src/compiler/index.js","../../src/vode/patch.js","../../src/observer/watcher.js","../../src/lifecycle.js","../../src/init.js","../../src/vode/index.js","../../src/global-api/index.js","../../src/index.js"],"sourcesContent":["// 拿到数组原型上的方法 （原有方法）\r\nlet oldArrayProtoMethds = Array.prototype\r\n\r\n//继承一下\r\n\r\nexport let arrayMethods = Object.create(oldArrayProtoMethds)\r\n\r\nlet methods =[\r\n    'push',\r\n    'pop',\r\n    'shift',\r\n    'unshift',\r\n    'reverse',\r\n    'sort',\r\n    'splice'\r\n]\r\nmethods.forEach(method=>{\r\n    arrayMethods[method] = function(...args){\r\n        const result = oldArrayProtoMethds[method].apply(this,args) // this就是Observer里的value\r\n        let inserted;\r\n        switch (method) {\r\n            case 'push': // arr.push({a:1},{b:2})\r\n            case 'unshift': //这两个方法都是追加 追加的内容可能是对象类型，应该被再次进行劫持\r\n                inserted = args;\r\n                break;\r\n            case 'splice': // vue.$set原理\r\n                inserted = args.slice(2); // arr.splice(0,1,{a:1},{a:1},{a:1})\r\n            default:\r\n                break;\r\n        }\r\n        if(inserted) this.__ob__.observeArray(inserted)    //给数组新增值也添加观测\r\n        return result\r\n    }\r\n})","export function Proxy(vm,data,key) {\r\n    Object.defineProperty(vm,key,{\r\n        get(){\r\n            return vm[data][key]\r\n        },\r\n        set(newValue){\r\n            vm[data][key] = newValue\r\n        }\r\n    })\r\n}\r\n\r\nexport function defineProperty(value,key,that){\r\n    Object.defineProperty(value,key,{\r\n        enumerable:false, // 不能被枚举 ，不能被循环\r\n        configurable:false,\r\n        value:that\r\n    })\r\n}\r\n\r\n\r\nexport const LIFECYCLE_HOOKS = [\r\n    'beforeCreate',\r\n    'created',\r\n    'beforeMount',\r\n    'mounted',\r\n    'beforeUpdate',\r\n    'updated',\r\n    'beforeDestroy',\r\n    'destroyed'\r\n];\r\nconst strats = {};\r\nstrats.data = function(parentVal, childValue) {\r\n    return childValue; // 这里应该有合并data的策略\r\n}\r\nstrats.computed = function() {}\r\nstrats.watch = function() {}\r\nfunction mergeHook(parentVal, childValue) { // 生命周期的合并\r\n    if(childValue){\r\n        if(parentVal){\r\n            return parentVal.concat(childValue); // 爸爸和儿子进行拼接\r\n        }else{\r\n            return [childValue]; //儿子需要转化成数组\r\n        }\r\n    }else{\r\n        return parentVal; // 不合并了 采用父亲的\r\n    }\r\n}\r\nLIFECYCLE_HOOKS.forEach(hook => {\r\n    strats[hook] = mergeHook\r\n})\r\nexport function mergeOptions(parent,child){\r\n    // 遍历父亲 ，可能是父亲有 儿子没有 \r\n    const options = {};\r\n    for (let key in parent) { // 父亲和儿子都有在这就处理了\r\n        mergeField(key);\r\n    }\r\n    // 儿子有父亲没有 在这处理\r\n    for (let key in child) { // 将儿子多的赋予到父亲上\r\n        if (!parent.hasOwnProperty(key)) {\r\n            mergeField(key);\r\n        }\r\n    }\r\n\r\n    function mergeField(key) { // 合并字段\r\n        // 根据key 不同的策略来进行合并 \r\n        if (strats[key]) {\r\n            options[key] = strats[key](parent[key], child[key]);\r\n        } else {\r\n            // todo默认合并\r\n            options[key] = child[key]\r\n        }\r\n    }\r\n\r\n\r\n    return options;\r\n\r\n}","let id = 0\r\nclass Dep{\r\n    constructor(){\r\n        this.subs=[]\r\n        this.id = id++\r\n    }\r\n    depend(){\r\n        // 我们希望 watcher 可以存放dep\r\n        Dep.target.addDep(this)\r\n    }\r\n    addSub(watcher){\r\n        this.subs.push(watcher)\r\n    }\r\n    notify(){\r\n        this.subs.forEach(watcher=>watcher.update())\r\n    }\r\n}\r\nDep.target = null\r\nexport function pushTarget(watcher){\r\n    Dep.target = watcher //保留watcher\r\n}\r\nexport function popTarget(){\r\n    Dep.target = null //删除watcher\r\n}\r\n\r\nexport default Dep\r\n\r\n//多对多的关系  一个属性有一个dep 是用来收集watcher的\r\n//dep可以存多个watcher \r\n// 一个watcher可以对应多个dep","import { arrayMethods } from \"./array\"\r\nimport { defineProperty } from \"../util.js\"\r\nimport Dep from \"./dep\"\r\n\r\nclass Observer{\r\n    constructor(value){\r\n        //判断是否被观测过\r\n        defineProperty(value,'__ob__',this)\r\n        // 使用defineProperty 重新定义属性\r\n        if(Array.isArray(value)){\r\n            //调用push shift unshift splice sort reverse pop \r\n            //函数劫持，切片编程\r\n            value.__proto__ = arrayMethods\r\n            this.observeArray(value)//数组中普通类型是不做观测的\r\n        }else{\r\n            this.walk(value)\r\n        }\r\n    }\r\n    observeArray(value){ //观测数组\r\n        value.forEach(item =>{\r\n            observer(item)//观测数组中的对象\r\n        })\r\n    }\r\n    walk(data){\r\n        let keys = Object.keys(data)// 获取对象的key\r\n        keys.forEach(key =>{\r\n            defineReactive(data,key,data[key])\r\n        })\r\n    }\r\n}\r\n\r\nfunction defineReactive(data,key,value){\r\n    observer(value)\r\n    let dep = new Dep()  //每个属性都有一个dep\r\n    // 当页面取值时 说明这个值用来渲染了，将这个watcher和这个属性对应起来\r\n    Object.defineProperty(data,key,{\r\n        get(){\r\n            if(Dep.target){ //让这个属性记住这个watcher\r\n                dep.depend()\r\n            }\r\n            return value\r\n        },\r\n        set(newValue){\r\n            if(newValue == value) return;\r\n            observer(newValue)\r\n            value = newValue\r\n            dep.notify()\r\n        }\r\n    })\r\n}\r\nexport function observer(data){\r\n    if(typeof data !== 'object' || data == null){\r\n        return\r\n    }\r\n    if(data.__ob__){\r\n        return\r\n    }\r\n    return new Observer(data)\r\n\r\n    //之观测存在的属性\r\n    //数组中更改索引和长度 无法被监控\r\n}","import { observer } from \"./observer/index\"\r\nimport { Proxy } from \"./util.js\"\r\n\r\nexport function initState (vm){ // vm.$options\r\n    const opts = vm.$options\r\n    if(opts.props){\r\n        initProps(vm)\r\n    }\r\n    if(opts.methods){\r\n        initMethods(vm)\r\n    }\r\n    if(opts.data){\r\n        initData(vm)\r\n    }\r\n    if(opts.computed){\r\n        initComputed(vm)\r\n    }\r\n    if(opts.watch){\r\n        initWatch(vm)\r\n    }\r\n}\r\n\r\nfunction initProps(vm){\r\n\r\n}\r\nfunction initMethods(vm){\r\n\r\n}\r\n\r\nfunction initData(vm){\r\n    let data = vm.$options.data // 数据的初始化操作\r\n    vm._data = data = typeof data == 'function' ? data.call(vm):data\r\n\r\n\r\n    //当我去vm上取属性时，帮我将属性的取值代理到vm._data上\r\n    for(let key in data){\r\n        Proxy(vm,'_data',key)\r\n    }\r\n\r\n    //数据的劫持方案 对象的  Object.defineProperty\r\n    observer(data);\r\n    //数组是单独处理的\r\n   \r\n}\r\nfunction initComputed(vm){\r\n\r\n}\r\nfunction initWatch(vm){\r\n\r\n}","\r\n\r\nconst ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`; // 标签名\r\n// ?:匹配不捕获\r\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`; // </my:xx>\r\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); // 标签开头的正则 捕获的内容是标签名\r\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); // 匹配标签结尾的 </div>\r\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/; // 匹配属性的    aaa=\"aaa\"  a='aaa'   a=aaa\r\nconst startTagClose = /^\\s*(\\/?)>/; // 匹配标签结束的 >    >   <div></div>  <br/>\r\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g;\r\n// 数据结构 树、栈、链表、队列、\r\nexport function parseHTML(html) {\r\n    function createASTElement(tagName, attrs) {\r\n        return {\r\n            tag: tagName, // 标签名\r\n            type: 1, // 元素类型\r\n            children: [], // 孩子列表\r\n            attrs, // 属性集合\r\n            parent: null // 父元素\r\n        }\r\n    }\r\n    let root;\r\n    let currentParent;\r\n    let stack = [];\r\n    function start(tagName, attrs) { // 创建一个元素 作为根元素\r\n        let element = createASTElement(tagName, attrs);\r\n        if(!root){\r\n            root = element;\r\n        }\r\n        currentParent = element; // 当前解析的标签 保存起来\r\n        stack.push(element); // 将生产的ast元素放到栈中\r\n    }\r\n\r\n    // <div> <p></p> hello</div>    currentParent=p\r\n    function end(tagName) { // 在结尾标签处 创建父子关系\r\n        let element = stack.pop(); // 取出栈中的最后一个\r\n        currentParent = stack[stack.length-1];\r\n        if(currentParent){ // 在闭合时可以知道这个标签的父亲是谁\r\n            element.parent = currentParent;\r\n            currentParent.children.push(element);\r\n        }\r\n    }\r\n    function chars(text) {\r\n        text = text.trim();\r\n        if(text){\r\n            currentParent.children.push({\r\n                type:3,\r\n                text\r\n            })\r\n        }\r\n    }\r\n\r\n    while (html) { // 只要html不为空字符串就一直解析\r\n        let textEnd = html.indexOf('<');\r\n        if (textEnd == 0) {\r\n            // 肯定是标签\r\n            const startTagMatch = parseStartTag(); // 开始标签匹配的结果 处理开始\r\n            if (startTagMatch) {\r\n                start(startTagMatch.tagName, startTagMatch.attrs);\r\n                continue;\r\n            }\r\n            const endTagMatch = html.match(endTag);\r\n            if (endTagMatch) { // 处理结束标签\r\n                advance(endTagMatch[0].length);\r\n                end(endTagMatch[1]); // 将结束标签传入 \r\n                continue;\r\n            }\r\n        }\r\n        let text;\r\n        if (textEnd > 0) { // 是处理文本\r\n            text = html.substring(0, textEnd)\r\n        }\r\n        if (text) { // 处理文本\r\n            advance(text.length);\r\n            chars(text);\r\n        }\r\n\r\n    }\r\n\r\n    function advance(n) { // 将字符串进行截取操作 在更新html内容\r\n        html = html.substring(n)\r\n    }\r\n\r\n    function parseStartTag() {\r\n        const start = html.match(startTagOpen);\r\n        if (start) {\r\n            const match = {\r\n                tagName: start[1],\r\n                attrs: []\r\n            }\r\n            advance(start[0].length); // 删除开始标签\r\n            // 如果直接是闭合标签了 说明没有属性\r\n            let end, attr;\r\n            // 不是结尾标签 能匹配到属性\r\n            while (!(end = html.match(startTagClose)) && (attr = html.match(attribute))) {\r\n                match.attrs.push({ name: attr[1], value: attr[3] || attr[4] || attr[5] });\r\n                advance(attr[0].length); // 去掉当前属性\r\n            }\r\n            if (end) { // >  删除匹配到的结束标签\r\n                advance(end[0].length);\r\n                return match;\r\n            }\r\n        }\r\n    }\r\n\r\n    return root;\r\n}","// 编写<div id=\"app\" style=\"color:red\"> hello {{name}} <span>hello</span></div>\r\n\r\n// 结果:render(){\r\n//    return _c('div',{id:'app',style:{color:'red'}},_v('hello'+_s(name)),_c('span',null,_v('hello')))\r\n//}\r\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g;\r\n//  语法层面的转义\r\nfunction genProps(attrs) { //  id   \"app\"     / style  \"fontSize:12px;color:red\"\r\n    let str = '';\r\n    for (let i = 0; i < attrs.length; i++) {\r\n        let attr = attrs[i];\r\n        if (attr.name === 'style') {\r\n            let obj = {}; // 对样式进行特殊的处理 \r\n            attr.value.split(';').forEach(item => {\r\n                let [key, value] = item.split(':');\r\n                obj[key] = value;\r\n            });\r\n            attr.value = obj;\r\n        }\r\n        str += `${attr.name}:${JSON.stringify(attr.value)},`;\r\n    }\r\n    return `{${str.slice(0,-1)}}`;\r\n}\r\nfunction gen(node) {\r\n    if (node.type == 1) {\r\n        return generate(node); // 生产元素节点的字符串\r\n    } else {\r\n        let text = node.text; // 获取文本\r\n        // 如果是普通文本 不带{{}}\r\n\r\n        if(!defaultTagRE.test(text)){\r\n            return `_v(${JSON.stringify(text)})` // _v('hello {{ name }} world {{msg}} aa')   => _v('hello'+_s(name) +'world' + _s(msg))\r\n        }\r\n        let tokens = []; // 存放每一段的代码\r\n        let lastIndex = defaultTagRE.lastIndex = 0; // 如果正则是全局模式 需要每次使用前置为0\r\n        let match,index; // 每次匹配到的结果\r\n\r\n        while(match = defaultTagRE.exec(text)){\r\n            index = match.index; // 保存匹配到的索引\r\n            if(index > lastIndex){\r\n                tokens.push(JSON.stringify(text.slice(lastIndex,index)))\r\n            }\r\n            tokens.push(`_s(${match[1].trim()})`);\r\n            lastIndex = index+match[0].length;\r\n        }\r\n        if(lastIndex < text.length){\r\n            tokens.push(JSON.stringify(text.slice(lastIndex)));\r\n        }\r\n        return `_v(${tokens.join('+')})`;\r\n    }\r\n}\r\nfunction genChildren(el) {\r\n    const children = el.children;\r\n    if (children) { // 将所有转化后的儿子用逗号拼接起来\r\n        return children.map(child => gen(child)).join(',')\r\n    }\r\n}\r\nexport function generate(el) {\r\n    let children = genChildren(el);// 儿子的生成\r\n    let code = `_c('${el.tag}',${\r\n        el.attrs.length? `${genProps(el.attrs)}`:'undefined'\r\n    }${\r\n        children?`,${children}`:''\r\n    })`;\r\n    return code;\r\n}","//  <div id=\"app\">hello {{name}} <span>world</span> <p></p></div>\r\nimport { parseHTML } from \"./parse\";\r\nimport { generate } from \"./generate\";\r\n\r\n\r\nexport function compileToFunctions(template) {\r\n    // html模板 => render函数  (ast是用来描述代码的)\r\n    // 1.需要将html代码转化成\"ast\"语法树 可以用ast树来描述语言本身\r\n\r\n    // 前端必须要掌握的数据结构 (树)\r\n    let ast = parseHTML(template);\r\n\r\n    // 2.优化静态节点\r\n\r\n    // 3.通过这课树 重新的生成代码\r\n    let code = generate(ast);\r\n\r\n    // 4.将字符串变成函数 限制取值范围 通过with来进行取值 稍后调用render函数就可以通过改变this 让这个函数内部取到结果了\r\n    let render = new Function(`with(this){return ${code}}`);\r\n    return render;\r\n\r\n}\r\n\r\n\r\n","import { Proxy } from \"../util\"\r\n\r\nexport function patch(oldVnode,vnode){\r\n    //将虚拟节点转换成真实节点\r\n    let el = createElm(vnode) //产生真实的dom\r\n    let parentElm = oldVnode.parentNode // 获取老的app的父亲\r\n    parentElm.insertBefore(el,oldVnode.nextSibling) //当前的真实元素插入到app的后面\r\n    parentElm.removeChild(oldVnode)\r\n    return el\r\n}\r\n\r\n\r\nfunction createElm(vnode){\r\n    let {tag,children,key,data,text} = vnode\r\n    if(typeof tag == 'string'){ \r\n        vnode.el = document.createElement(tag) // 创建元素放到vnode.el上\r\n\r\n        //只有元素才有属性\r\n        updateProperties(vnode)\r\n        children.forEach(child => { // 遍历儿子 将儿子渲染后的结果扔到父亲中\r\n            vnode.el.appendChild(createElm(child))\r\n        })\r\n    }else{//创建文件 放到vnode.el上\r\n        vnode.el = document.createTextNode(text)\r\n    }\r\n    return vnode.el\r\n}\r\n\r\n\r\nfunction updateProperties(vnode){\r\n    let el = vnode.el\r\n    let newProps = vnode.data || {}\r\n    for(let key in newProps){\r\n        if(key=='style'){\r\n            for(let styleName in newProps.style){\r\n                el.style[styleName] = newProps.style[styleName]\r\n            }\r\n        }else if(key == 'class'){\r\n            el.className = el.class\r\n        }else{\r\n            el.setAttribute(key,newProps[key])\r\n        }\r\n    }\r\n}","import { pushTarget, popTarget } from \"./dep\"\r\n\r\nlet id = 0\r\nclass Watcher{\r\n    //vm 实例\r\n    //extrOrFn vm._updatae(vm._render)\r\n    constructor(vm,estrOrFn,cb,options){\r\n        this.vm = vm\r\n        this.estrOrFn = estrOrFn\r\n        this.cb = cb\r\n        this.options = options\r\n        this.id = id++ //watcher的唯一标识\r\n        this.deps = [] //watcher 记录有多少dep来依赖他\r\n        this.depsId = new Set()\r\n        if( typeof estrOrFn == 'function'){\r\n            this.getter = estrOrFn\r\n        }\r\n        this.get() //默认会调用get方法\r\n    }\r\n    addDep(dep){\r\n        let id = dep.id\r\n        if(!this.depsId.has(id)){\r\n            this.deps.push(dep)\r\n            this.depsId.add(id)\r\n            dep.addSub(this)\r\n        }\r\n        \r\n    }\r\n    get(){\r\n        pushTarget(this) //当前watcher实例\r\n        this.getter() // 调用estrOrFn 这里是渲染页面 render方法\r\n        popTarget()\r\n    }\r\n    update(){\r\n        this.get()\r\n    }\r\n    \r\n}\r\n\r\nexport default Watcher","import { patch } from \"./vode/patch\"\r\nimport Watcher from \"./observer/watcher\"\r\n\r\nexport function lifecycleMixin(Vue){\r\n    Vue.prototype._update = function(vnode){\r\n        const vm = this\r\n       vm.$el = patch(vm.$el,vnode)\r\n    }\r\n}\r\n\r\nexport function mountComponent(vm,el){\r\n    //调用render方法去渲染 el属性\r\n\r\n    //先调用render方法创建虚拟节点，在将虚拟节点渲染到页面上\r\n    callHook(vm,'beforeMount')\r\n    // vm._update(vm._render())\r\n    let undateComponent = () =>{\r\n        vm._update(vm._render())\r\n    }\r\n    new Watcher(vm,undateComponent,()=>{\r\n        callHook(vm,'beforeUpdate')\r\n    },true)\r\n\r\n    // 要把属性和watcher绑定\r\n\r\n    callHook(vm,'mounted')\r\n}\r\n\r\nexport function callHook(vm,hook){\r\n    const handlers = vm.$options[hook]\r\n    if(handlers){\r\n        for(let i = 0; i<handlers.length; i++){\r\n            handlers[i].call(vm)\r\n        }\r\n    }\r\n}","import { initState } from \"./state\";\r\nimport { compileToFunctions } from \"./compiler/index\";\r\nimport { mountComponent, callHook } from \"./lifecycle\";\r\nimport { mergeOptions } from \"./util\";\r\n\r\nexport function initMixin(Vue){\r\n    //初始化操作\r\n    Vue.prototype._init =function (options){\r\n        const vm = this;\r\n        \r\n        vm.$options =mergeOptions(vm.constructor.options,options)  //需要将用户自定义的options 和全局的options做合并\r\n        callHook(vm,'beforeCreate')\r\n        //初始化状态（将数据做一个初始化的劫持 当我改变数据时应该跟新视图）\r\n        initState(vm)\r\n        callHook(vm,'created')\r\n        //vue组件中有很多状态 data props watcch computed\r\n\r\n\r\n        //vue里面核心特性 响应式数据原理\r\n        //vue 是一个什么样的框架 \r\n\r\n        // MVVM 数据变化视图会更新，视图变化数据会被影响 MVVM不能跳过数据取跟新视图\r\n\r\n\r\n        //如果当前有el属性说明要渲染模板\r\n        if(vm.$options.el){\r\n            vm.$mount(vm.$options.el)\r\n        }\r\n    }\r\n    //挂载操作\r\n    Vue.prototype.$mount = function(el){\r\n        const vm = this\r\n        const options = vm.$options\r\n        el = document.querySelector(el)\r\n        vm.$el = el\r\n        if(!options.render){\r\n            //没render 将template转换为render\r\n            let template = options.template\r\n            if(!template && el){\r\n                template = el.outerHTML\r\n            }\r\n            const render = compileToFunctions(template)\r\n            options.render = render\r\n        }\r\n        // 编译原理 将模板编译成render函数\r\n      \r\n        // 需要挂载这个组件\r\n        mountComponent(vm,el)\r\n    }\r\n\r\n    \r\n}","export function renderMixin(Vue){ //用对象来描述dom的结构\r\n    Vue.prototype._c = function(){ // 创建虚拟deom元素\r\n        return createElement(...arguments)\r\n    }\r\n    Vue.prototype._s = function(val){ // stringify\r\n        return val == null ? \"\" : (typeof val == 'object') ? JSON.stringify(val) : val\r\n    }\r\n    Vue.prototype._v = function(text){ // 创建虚拟deom文本元素\r\n        return createTextVnode(text)\r\n    }\r\n    Vue.prototype._render = function(){\r\n        const vm = this\r\n        const render = vm.$options.render\r\n        let vnode = render.call(vm)\r\n        return vnode\r\n    }\r\n}\r\n\r\nfunction createElement(tag,data={},...children){\r\n    return vnode(tag,data,data.key,children)\r\n}\r\n\r\nfunction createTextVnode(text){\r\n    return vnode(undefined,undefined,undefined,undefined,text)\r\n}\r\n\r\n// 产生虚拟dom\r\n\r\nfunction vnode(tag,data,key,children,text){\r\n    return {\r\n        tag,\r\n        data,\r\n        key,\r\n        children,\r\n        text,\r\n    }\r\n}","import { mergeOptions } from \"../util\"\r\n\r\nexport function initGlobalApi(Vue){\r\n    Vue.options = {} // \r\n    Vue.mixin = function(mixin){\r\n        this.options = mergeOptions(this.options,mixin) //合并属性\r\n    }\r\n}","// new Vue({})\r\n\r\nimport { initMixin } from \"./init\"\r\nimport { lifecycleMixin } from \"./lifecycle\"\r\nimport { renderMixin } from \"./vode/index\"\r\nimport { initGlobalApi } from \"./global-api/index\"\r\n\r\n// es6的类的写法 一个整体\r\n\r\nfunction Vue(options){\r\n    this._init(options) // 入口方法，做初始化操作 \r\n}\r\n\r\ninitMixin(Vue)\r\n\r\nlifecycleMixin(Vue) //_upadta\r\n\r\nrenderMixin(Vue)// _render\r\n\r\ninitGlobalApi(Vue)\r\n\r\nexport default Vue"],"names":["oldArrayProtoMethds","Array","prototype","arrayMethods","Object","create","methods","forEach","method","args","result","apply","inserted","slice","__ob__","observeArray","Proxy","vm","data","key","defineProperty","get","set","newValue","value","that","enumerable","configurable","LIFECYCLE_HOOKS","strats","parentVal","childValue","computed","watch","mergeHook","concat","hook","mergeOptions","parent","child","options","mergeField","hasOwnProperty","id","Dep","subs","target","addDep","watcher","push","update","pushTarget","popTarget","Observer","isArray","__proto__","walk","item","observer","keys","defineReactive","dep","depend","notify","initState","opts","$options","props","initData","_data","call","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","parseHTML","html","createASTElement","tagName","attrs","tag","type","children","root","currentParent","stack","start","element","end","pop","length","chars","text","trim","textEnd","indexOf","startTagMatch","parseStartTag","endTagMatch","match","advance","substring","n","attr","name","defaultTagRE","genProps","str","i","obj","split","JSON","stringify","gen","node","generate","test","tokens","lastIndex","index","exec","join","genChildren","el","map","code","compileToFunctions","template","ast","render","Function","patch","oldVnode","vnode","createElm","parentElm","parentNode","insertBefore","nextSibling","removeChild","document","createElement","updateProperties","appendChild","createTextNode","newProps","styleName","style","className","class","setAttribute","Watcher","estrOrFn","cb","deps","depsId","Set","getter","has","add","addSub","lifecycleMixin","Vue","_update","$el","mountComponent","callHook","undateComponent","_render","handlers","initMixin","_init","constructor","$mount","querySelector","outerHTML","renderMixin","_c","arguments","_s","val","_v","createTextVnode","undefined","initGlobalApi","mixin"],"mappings":"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"}